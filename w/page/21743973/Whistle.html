<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
	<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  
  <link rel="stylesheet" type="text/css" href="http://vs1.pbworks.com/shared/statics/packed-m-prod-v07998121.css" />

  
		<!--[if lte IE 6]><link rel="stylesheet" type="text/css" href="http://vs1.pbworks.com/shared/statics/ie6-m-prod-v85351277.css" /><![endif]-->
      
        <script>
  PBinfo = {"CurrentPage":{"is_dev":false,"sessCookie":"ds3","requesttime":"1693982490","page":"Whistle","editor_v3":true,"security":"default"},"CurrentWiki":{"front_page":"FrontPage","isPublic":true,"is_archived":false,"debug":false,"usercount":25,"filecount":11,"pagecount":218,"foldercount":0,"name":"tantek","title":"tantek","cat":"ind","readonly":null,"comments_disabled":null,"comments_newest_first":null,"network_groups":[],"requestaccess":true},"CheckPermissions":{"uid":false,"personal_wiki":false},"GetFeatures":{"fliqz_upsell":true,"lockpages":true,"page_security":true,"folder_security":true},"GetTimes":{"_valid_as_of":"1693982490","commenttime":1685323908,"filetime":1543425648,"foldertime":1543425648,"page_list_time":1550932605,"pagetime":1693898955,"permtime":1619135003,"tagtime":1543425648,"_args":{"op":"GetTimes"}},"GetUserPrefs":{"sidebar":{"folders":[],"sidebar":[],"addusers":[],"recentactivity":[]},"sidebar_collapsed":false,"show_rev_comment":"context-error"},"BuildTime":1599696004,"CurrentObject":21743973,"GetPage":{"_perm_cache_times":{"pagetime":1693898955,"foldertime":1543425648,"permtime":1619135003},"_valid_as_of":"1693982490","author":{"perm":"admin","name":"Tantek","first_name":"Tantek","email":"tantek@...","image":"http:\/\/files.pbworks.com\/userimage\/31ac8e517821a5a8c36f7de3f678064a9745770d\/yes\/48x48\/1621369367\/","verified":"1269993700","email_verified":"1174774216","lastview":1693898700,"lastviewtext":"23 hours","initials":"T","large_image":"http:\/\/files.pbworks.com\/userimage\/31ac8e517821a5a8c36f7de3f678064a9745770d\/yes\/48x48\/1621369367\/","uid":"ef283e26f50d77358c42dbacffb2310fb4e9d559"},"current_revision":1512937884,"hasPlugins":true,"has_custom_perms":false,"hidden":false,"locked":false,"mtime":1512937884,"name":"Whistle","oid":21743973,"perms":{"r":true},"revcount":41,"revurl":"http:\/\/tantek.pbworks.com\/w\/page\/21743973\/Whistle","size":27854,"wikistyle":false,"_args":{"oid":21743973,"revision":false,"op":"GetPage"}}};
</script>
<script type="text/javascript" src="http://vs1.pbworks.com/shared/statics/libraries-v78145716.js"></script>
<script type="text/javascript" src="http://vs1.pbworks.com/shared/statics/packed-v65464171.js"></script>
<script type="text/javascript" src="http://vs1.pbworks.com/shared/statics/extras-v46757463.js"></script><!--[if lte IE 6]>
  <script type="text/javascript">function ie6minwidth(){var size = (document.documentElement.clientWidth<960 ? '960px' : '100%'); $(document.body).setStyle({'width':size});} document.observe("dom:loaded", ie6minwidth); Event.observe(window, 'resize', ie6minwidth); 
</script>
<![endif]-->
    
    
  <style>
/* undo pbworks.css */
.vcard .note {background:none} /* no tiled silly note icon please */
.note p {margin:1em 0} /* proper paragraph spacing. */
</style>

  <link rel="canonical" href="http://tantek.pbworks.com/w/page/21743973/Whistle" />
            <link rel="alternate" title="tantek Recent Changes" href="/rss.xml" type="application/rss+xml" />
      	<title>tantek / Whistle</title>
</head>
<body class=" has-ws-nav wikipage unknown">
<!-- network bar -->
<div id="network-bar" class="network-bar clearfix standalone">
  <ul id="network-bar-breadcrumbs">
        <li class="last" id="network-crumb-wiki"><a href="/" id="network-crumb-wiki-link">tantek</a></li>
  </ul>

      <!-- user bar -->
    <div id="user-bar" class="user-bar "><div class="user-bar-left"><div class="user-bar-right"><p><a href="http://tantek.pbworks.com/w/session/login">log in</a><a id="network-bar-help" class="network-bar-help" href="mailto:support@pbworks.com">help</a></p></div></div></div>
  
  
      <div id="network-bar-signup" class="network-bar-section">
      <span class="iconbutton upgrade">
        <a class="network-bar-signup-link" href="https://plans.pbworks.com/signup/basic20?utm_campaign=mcgetyourown&utm_source=personal" class="iconbutton upgrade">Get a free wiki</a>
        &nbsp;|&nbsp;
        <a class="network-bar-signup-link" href="http://pbworks.com/signup?utm_campaign=freebiz&utm_source=personal" class="iconbutton upgrade">Try our free business product</a>
      </span>
    </div>
  
</div>

    <div id="ws-nav" class="chrome-content">
          <ul class="nav-tabs active-tab-wiki first-tab-active">
        <li id="ws-nav-wiki" class="active"><a href="http://tantek.pbworks.com/w/page/19402911/FrontPage">Wiki</a></li><li id="ws-nav-browse" class="last"><a href="http://tantek.pbworks.com/w/browse/">Pages &amp; Files</a></li>      </ul>
    
    <div id="ws-nav-search">
      <input type="text" placeholder="Search this workspace" class="inputtext text" name="SearchFor" id="input-search"  tabindex="1" title="Search" autocomplete="off"/>
    </div>
  </div>
<div id="wrapper">
<table id="container" cellspacing="0">
<tr>
  <td id="main-content">
              <ul id="notifications" class="page-notices ipm">
                  <li id="notification-159" class="notification page-notice">
                                  <p>If you are citizen of an European Union member nation, you may not use this service unless you are at least 16 years old.</p>
                    </li>
                  <li id="notification-258" class="notification page-notice last">
                                  <p>Dokkio Sidebar applies <b>AI to make browsing the web faster and more productive</b>. Whenever you open Sidebar, you'll get an AI summary of the web page and can ask any question you like about the content of the page! <span style="font-weight: bold;"><a href="javascript:Messaging.Link({&quot;tracking&quot;:&quot;ipm-PB230606&quot;,&quot;dismiss&quot;:&quot;no&quot;,&quot;url&quot;:&quot;https://www.dokkio.com/sidebar&quot;,&quot;target&quot;:&quot;_blank&quot;,&quot;id&quot;:258});" title="">Try Dokkio Sidebar for free</a></span>.</p>
                    </li>
              </ul>
    
    <div id="page">
      <div id="page-toolbar">
        <div id="page-toolbar-inner">
          <div id="view-tab" class="active">View</div>
                      <div id="edit-tab" class="logintoedit"><a href="javascript:void(0);">Edit</a></div>
          					<div id="expand-collapse-page"><a id="expand-collapse-page-link" href="javascript:void(0);"></a></div>
        </div>
      </div>
            <div id="edit-button-bubble" style="display:none" class="bubble">
        <div id="edit-button-arrow"></div>
        <a class="close" href="#"></a>
        <table cellspacing="0"><tr class="header"><td class="left"></td><td class="right"></td></tr><tr class="content"><td class="left"></td><td class="right">
              <div class="inner-content">
                              <div class="top">
                                  To edit this page,<br/>
                  <a href="/request_access.php">request access</a> to the workspace.                </div>
                <p>Already have an account? <a href="http://tantek.pbworks.com/w/session/login?edit=1">Log in</a>!</p>
                                            </div>
            </td></tr></table>
      </div>
      
      <table cellspacing="0" id="inner-page">
        <tr>
          <td id="page-col-1" width="4">&nbsp;</td>
          <td id="page-col-2">
                          <div id="wikicontent">
  <h1 class="pagetitle box">
      Whistle
  </h1>
    <div class="page-history">
      <a href="http://tantek.pbworks.com/w/page-revisions/21743973/Whistle" class="iconbutton historyicon">
      Page history
    </a>
        last edited
    by <span id="page-editor"><a href="javascript:alert('Please join this workspace to see more details about this user.');" class="iconbutton usericon usercard_trigger">Tantek</a></span> <span id="page-history-ago">5 years, 9 months ago</span>
    <div id="new-revision-available"></div>
  </div>
  
  <div id="lockinfo">
    </div>

    <div id="wikipage" class="box wikistyle">

    <div style="" id="wikipage-inner">
    <h1><a class="pbTOC" name="WhistlepersonalURLshortener"></a>Whistle personal URL shortener</h1>
<div style="float:right;"><table style="background:transparent;border:none;margin:0;padding:0"><tr style="background:transparent;border:none;margin:0;padding"><td style="background:transparent;border:none;margin:0;padding"><div class="toc"><ol type="1"><li><a href="#WhistlepersonalURLshortener">Whistle personal URL shortener</a><ol type="a"><li><a href="#buildingblocks">building blocks</a></li><li><a href="#clients">clients</a></li><li><a href="#designrequirements">design requirements</a></li><li><a href="#simpleexample">simple example</a></li><li><a href="#why">why</a><ol type="i"><li><a href="#whyshortURLs">why short URLs</a></li><li><a href="#whydoyouneedyourown">why do you need your own</a></li><li><a href="#whyanalgorithmicURLshortener">why an algorithmic URL shortener</a></li><li><a href="#whyhumanreadability">why human readability</a></li><li><a href="#whyonelettercontenttypecodes">why one letter content type codes</a></li><li><a href="#howdothetshortURLswork">how do the t short URLs work</a></li></ol><li><a href="#design">design</a><ol type="i"><li><a href="#underconsideration">under consideration</a></li><li><a href="#designrelatedanalysis">design related analysis</a></li></ol><li><a href="#implementation">implementation</a></li><li><a href="#interviews">interviews</a></li><li><a href="#FAQ">FAQ</a><ol type="i"><li><a href="#Whynotusedayssinceyouwereborn">Why not use days since you were born</a></li><li><a href="#WhynotjustusetheshortURLsallthetime">Why not just use the short URLs all the time?</a></li><li><a href="#WhyuseshortidsinsteadofURLsinsyndicatednotes">Why use short ids instead of URLs in syndicated notes?</a></li><li><a href="#Whyusespaceasadelimiterinsidepermashortids">Why use space as a delimiter inside permashortids?</a></li></ol><li><a href="#RelatedProjects">Related Projects</a></li></ol></li></ol></li></div></td></tr></table><br clear="left" /></div>
<p>&nbsp;</p>
<p>Whistle is an open source, <em><strong>algorithmically reversible, personal URL</strong></em> shortener.</p>
<p>There is an instance of Whistle running at&nbsp;<a href="http://ttk.me/">http://ttk.me</a>.</p>
<p>&nbsp;</p>
<p>Note: if you're looking for an open source, <em><strong>database-based, generic (any) URL</strong></em> shortener, see other projects like <a href="http://ur1.ca/">ur1.ca</a> (note: that's <strong>U R <em>ONE</em></strong> dot <strong>C A</strong>), <a href="http://yourls.org/">yourls.org</a>, etc. feel free to suggest others.</p>
<p>&nbsp;</p>
<h2><a class="pbTOC" name="buildingblocks"></a>building blocks</h2>
<p>Whistle makes use of the following building blocks:</p>
<ul>
<li><a href="/CassisProject">CassisProject</a></li>
<li><a href="/NewBase60">NewBase60</a></li>
<li><a href="/NewCalendar">NewCalendar</a></li>
</ul>
<p>&nbsp;</p>
<h2><a class="pbTOC" name="clients"></a>clients</h2>
<p>Whistle is used by:</p>
<ul>
<li><a href="/Falcon">Falcon</a></li>
</ul>
<p>&nbsp;</p>
<h2><a class="pbTOC" name="designrequirements"></a>design requirements</h2>
<p>summary of design requirements for Whistle</p>
<p>&nbsp;</p>
<ul>
<li>personal URL shortener</li>
<li>personal short URL domain</li>
<li>algorithmic shortening (no database/opaque id indirection)</li>
<li>human readability / print safety (<a href="/ShortURLPrintExample">ShortURLPrintExample</a>)</li>
<li>as short as possible (<a href="/NewBase60">NewBase60</a>&nbsp;compression)</li>
<li>per content-type URL space partitioning (one character content-types)</li>
</ul>
<h2><a class="pbTOC" name="nbsp"></a>&nbsp;</h2>
<h2><a class="pbTOC" name="simpleexample"></a>simple example</h2>
<p>Here is a sample actual permalink URL and how it's converted to a permashortlink:</p>
<pre> tantek.com/2010/034/t2/diso-2-personal-domains-shortener-hatom-push-relmeauth</pre>
<p>The slug is purely for display and search, the unique portion of the URL is actually:</p>
<pre> tantek.com/2010/034/t2</pre>
<p>this compresses to the following Whistle short URL:</p>
<pre> ttk.me/t4432</pre>
<p>via /t2 = 't' text note number '2' for the day, and</p>
<p>/2010/034 == 2010-034 ordinal ISO8601 date == '443' in sexagesimal <a href="/NewBase60">NewBase60</a> epoch days, and</p>
<p>ttk.me is the short domain for tantek.com.</p>
<p>This algorithm is reversible and thus inverting it resolves the short URL into the original permalink.</p>
<p>&nbsp;</p>
<h2><a class="pbTOC" name="why"></a>why</h2>
<p>Why short URLs, why is it necessary to run your own URL shortener, why the Whistle design, and how does it work?</p>
<p>&nbsp;</p>
<h3><a class="pbTOC" name="whyshortURLs"></a>why short URLs</h3>
<p>Historically the need for "short" URLs is not new. But what we mean by "short" has certainly changed a lot recently.</p>
<p>&nbsp;</p>
<p>Old email systems would wrap text at 80 characters (or a few less) and make it just harder enough to reliably reconstruct or use URLs that many systems adopted a common practice of keeping URLs to 70 characters or less by design.</p>
<p>&nbsp;</p>
<p>This was fundamentally usability driven.</p>
<p>&nbsp;</p>
<p>Shorter URLs in email are easier to use and more reliable. They're nicer in IM too. &nbsp;And browser screenshots. I've retyped URLs from screenshots in slides, I'm sure many of you have too.</p>
<p>&nbsp;</p>
<p>How about print? Ever typed in a URL from a book?&nbsp;Or advertising. Magazine spreads or billboards - URLs are ubiquitous. &nbsp;See&nbsp;<a href="/ShortURLPrintExample">ShortURLPrintExample</a>&nbsp;for actual documented real-world examples of short URLs in print.</p>
<p>&nbsp;</p>
<p>The easier to read and type-in, the more folks visit the URL.</p>
<p>&nbsp;</p>
<p>But again, this is nothing new. Ever since the dotcom boom URLs have become a part of our visual language (much to the chagrin of linguists I'm sure).</p>
<p>&nbsp;</p>
<h3><a class="pbTOC" name="whydoyouneedyourown"></a>why do you need your own</h3>
<p>Why do you need your own URL shortener and short domain?</p>
<p>&nbsp;</p>
<p>Twitter rewrote our brains to think in 140 characters and suddenly every one of those characters counted.</p>
<p>&nbsp;</p>
<p>And two things happened:</p>
<ol>
<li><strong>URL shortener services showed up</strong> which would trim any URL down to a small handful of characters, saving your precious tweetspace for your own words. Everyone started using them. Twitter and clients started auto-shortening URLs.</li>
<li><strong>We started to understand just <a href="http://joshua.schachter.org/2009/04/on-url-shorteners.html">how fragile these shorteners are</a></strong>, and how they break the web. How many shortener sites have died taking their links with them to the bit bucket? Even tr.im, which is keeping the lights on longer than others, is set to shut down at the end of 2010. It was frustration with tr.im's downtimes and then end-of-service announcement that led me to this realization:<em> It's not good enough to have your own URL; You need to have your own shortener as well.&nbsp;</em></li>
</ol>
<p>&nbsp;</p>
<p>This isn't just for independents. Companies and hosting services should have their own too. The first big site to realize and <a href="http://laughingmeme.org/2009/04/03/url-shortening-hinting/">do this right was Flickr</a>, and many have followed.</p>
<p>&nbsp;</p>
<p>The key here is that when you own and host your own shortener for links to your content, you're not adding any more fragility to web. If your shortener goes down, your site probably is down as well. They're tied together. No additional risk. Unless you use a database for the shortenings and you lose your database because you were unwilling (or unable) to pay the DBA tax to maintain it. We'll talk more about the DBA tax problem in due time.</p>
<p>&nbsp;</p>
<p>But why is it important to own the shortened links to your content? Why not just always share your full "long" URLs?</p>
<p>&nbsp;</p>
<p>In short:</p>
<ol>
<li>You can't always do so. E.g. Twitter now auto-shortens many URLs.</li>
<li>Shorter URLs tend to be better for sharing (for all the reasons discussed at the top).&nbsp;</li>
</ol>
<p>&nbsp;</p>
<p>And that #2 is where we get to DiSo. &nbsp;A couple of the <a href="http://tantek.com/2010/034/t2/diso-2-personal-domains-shortener-hatom-push-relmeauth">key architectural components of DiSo 2.0</a> are:</p>
<ol>
<li>Publish on your own site, own your URLs, your permalinks, and</li>
<li>Syndicate out to other sites. Your text updates to Twitter, your checkins to Foursquare, your photos to Flickr etc.</li>
</ol>
<p>&nbsp;</p>
<p>The direction of the content flow is very important here, as it has to do with ownership, and what's the original vs. what's just a copy.</p>
<p>&nbsp;</p>
<p>It's ok to sharecrop copies, especially when the copies link back to your original. That's called distribution.</p>
<p>&nbsp;</p>
<p>It's not ok to sharecrop the original and aggregate copies on your own site. You're still sharecropping and you're still beholden/vulnerable to those 3rd party sites going down, censoring your content, renaming you, or being blocked by some nationwide internet filtering firewall.</p>
<p>&nbsp;</p>
<p>In a DiSo solution, when you syndicate your content out to other sites, the key is that those syndicated copies of your content link back to the original. Permalinks serve this role for blog posts. For short text updates that you syndicate to Twitter or Identi.ca etc., you need perma-short-links. And that's where your own shortener is essential</p>
<p>&nbsp;</p>
<h3><a class="pbTOC" name="whyanalgorithmicURLshortener"></a>why an algorithmic URL shortener</h3>
<p>One of the key emphases of the DiSo 2.0 I've outlined is maintainability. Fewer moving parts, fewer magic hidden files, fewer things that can inexplicably fail = more independents succesfully running and owning their own sites, identities, web presences over time.</p>
<p>&nbsp;</p>
<p>Nearly all (maybe all?) open source URL shorteners today use a database to store the pairs of "short code" and "actual URL". If you lose that database, forget to back it up, have some bad database code that corrupts it etc., your shortlinks are gone, dead, useless.</p>
<p>&nbsp;</p>
<p>If instead you create and use a URL shortener to create shortlinks that are algorithmically reversible, and then document that algorithm, publicly, then anyone can figure out how to expand your shortlinks. If they happen upon them on some random site, they can expand them and look for the original, or at least know that you're linking to the same thing that a normal permalink somewhere else is expressing.</p>
<p>&nbsp;</p>
<p>In addition, all manner of browser or aggregator tools and sites that currently have to manually resolve shortlinks by calling the APIs of their services can save the bandwidth and time and simply decode your URLs themselves.</p>
<p>&nbsp;</p>
<p>Once again, Flickr set a very good example with their <a href="http://flic.kr/">http://flic.kr/</a> <a href="http://laughingmeme.org/2009/04/03/url-shortening-hinting/">shortener for Flickr photos</a>.</p>
<p>&nbsp;</p>
<p>In fact, their doing so inspired me within days to grab <a href="http://ttk.me/">http://ttk.me/</a> and set it up to redirect to my site <a href="http://tantek.com/">http://tantek.com/</a>, knowing I would eventually (as I have) add various shortening services to it.</p>
<p>&nbsp;</p>
<p>Similarly I encourage every independent out there, everyone who wants to install and/or run their own DiSo implementation (like <a href="/Falcon">Falcon</a>), to go ahead and not just grab a domain name for themselves, but also grab a shortener domain too. Set it up to redirect to your primary domain for now.</p>
<p>&nbsp;</p>
<h3><a class="pbTOC" name="whyhumanreadability"></a>why human readability</h3>
<p>Short URLs are used in contexts where humans end up reading them and typing them in by hand. Some examples:</p>
<ul>
<li><a href="/w/page/19402984/ShortURLPrintExample">ShortURLPrintExample</a> - when present in print, humans are expected to type in the URL by hand. Thus the need for short URLs to be "print safe" (a subset of human readability)</li>
<li><strong>"faster" to view/retype than copy/paste/share.</strong> There are some proprietary platform applications, such as Instagram on iOS, for which it is faster to view the URL of a post in the app, and then retype it into a laptop, than attempt to send/share from an iOS device (e.g. without any email setup) to a laptop. Instagram actually itself ironically produces print-<em>unsafe</em> URLs such as:</li>
<ul>
<li><a href="http://instagr.am/p/GTIm_"></a>instagr.am/p/GTIm_ (note the capital "i" after the "GT", which could ambiguously be read as a lowercase "L" (especially adjacent to the lowercase "m", or as the number "1")</li>
</ul>
</ul>
<p>&nbsp;</p>
<h3><a class="pbTOC" name="whyonelettercontenttypecodes"></a>why one letter content type codes</h3>
<p>Two more things that Kellan got right in the Flickr shortener which I've also found inspiration in:</p>
<p>&nbsp;</p>
<ol>
<li>just a "/p/" to indicate "Photo" presumably (clever idea to prefix like that to allow for other prefixes to do other things)</li>
<li>and then a Base58 compressed photo id.&nbsp;</li>
</ol>
<p>&nbsp;</p>
<p>Regarding 1, I've also settled on one-character "spaces" for different types of URLs. "p" for photo makes sense to re-use.&nbsp;After quite a bit of personal research into what types of content are different enough and used often enough to warrant their own short URL spaces, I've come up with about 20 different content types, each with their own letter.</p>
<p>&nbsp;</p>
<p>Here are a few examples from my content-type short codes:</p>
<p>&nbsp;</p>
<ul>
<li>b - blog post, article (structured, with headings), essay</li>
<li>i - identifier - on another system using subdirectories as system id spaces</li>
<ul>
<li>i/i/ - compressed ISBN numbers</li>
<li>i/a/ - compressed ASIN numbers</li>
</ul>
<li>p - photo</li>
<li>t - text, (plain) text, tweet, thought, note, unstructured, untitled&nbsp;</li>
</ul>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>These and the rest are documented more fully in the "<strong><a href="#design">design</a></strong>" section below.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h3><a class="pbTOC" name="howdothetshortURLswork"></a>how do the t short URLs work</h3>
<p>Specifically for text notes,&nbsp;I decided to keep my "t" shortener as short as possible, which meant dropping a trailing "/".</p>
<p>&nbsp;</p>
<p>After that I use a 3 digit sexagesimal (Base60) number to represent the date in a manner deliberately limited to human individuals. Why Base60? Lots of reasons, including print-safety (as mentioned above). Want to read the entire derivation and reasons why? See <a href="/NewBase60">NewBase60</a> (includes open source CASSIS implementation).</p>
<p>&nbsp;</p>
<p>Why 3 sexagesimal digits to represent the date? It turns out that 3 sexagesimal digits are capable of representing over 500 years of days - plenty overengineered for any human lifetime. And if anyone does figure out how to live more than 500 years I have a feeling that person will not only not resemble human as we know it very much, but will either have bigger problems to deal with than URL shortener limitations, or will be so smart that they will come up with a better solution.</p>
<p>&nbsp;</p>
<p>But for now, for our feeble less than 200 year lifetimes, this is good enough. In addition we can even agree on a day zero that computes well with existing platforms. Unix Epoch start: 1970-01-01. Given that no-one published anything to the web before 1990, I think we're ok with that. What happens in a few hundred years? Perhaps people can pick their own day zeroes as they see fit.</p>
<p>&nbsp;</p>
<p>Thus the 3 characters after the "t" represent the number of days since 1970-01-01 in sexagesimal - what I'm calling "epoch days".</p>
<p>&nbsp;</p>
<p>Finally I allow for 1 (or 2, but haven't needed it yet) more sexagesimal digit to indicate the nth ordinal post of that type for that day. Thus:</p>
<p>&nbsp;</p>
<pre>ttk.me/tSSSn
</pre>
<p>&nbsp;</p>
<ul>
<li>SSS = sexagesimal epoch days</li>
<li>n = nth post that day</li>
</ul>
<p>&nbsp;</p>
<p>This is sufficient to expand to:</p>
<p>&nbsp;</p>
<pre>tantek.com/YYYY/DDD/tn/</pre>
<p>&nbsp;</p>
<ul>
<li>YYYY = year</li>
<li>DDD = day of the year (see related: <a href="http://en.wikipedia.org/wiki/ISO_8601#Ordinal_dates">http://en.wikipedia.org/wiki/ISO_8601#Ordinal_dates</a>&nbsp;)</li>
<li>n = nth post that day</li>
</ul>
<p>&nbsp;</p>
<p>Which I then redirect server-side to a longer URL with post keywords (AKA "slug") on the end.&nbsp;E.g.</p>
<p>&nbsp;</p>
<pre>ttk.me/t4432 is</pre>
<p>&nbsp;</p>
<ul>
<li>t - text note</li>
<li>443 - 443(base60)th epoch day = 2010, the 34th day of</li>
<li>2 - 2nd text note that day</li>
</ul>
<p>&nbsp;</p>
<p>thus expands to:</p>
<p>&nbsp;</p>
<pre>tantek.com/2010/034/t2/</pre>
<p>&nbsp;</p>
<p>which is enough for <a href="/Falcon">Falcon</a> to retrieve the post in the hAtom store, where it also gets the keyword/slug phrase for the post, and uses it to redirect it to:&nbsp;</p>
<p>&nbsp;</p>
<pre>tantek.com/2010/034/t2/diso-2-personal-domains-shortener-hatom-push-relmeauth&nbsp;</pre>
<p>&nbsp;</p>
<h2><a class="pbTOC" name="design"></a>design</h2>
<p>Design notes:</p>
<ul>
<li>single-letter content-type prefix, description, and ActivityStreams equivalent object-type if any</li>
<ul>
<li>a - audio/video recording, speech, talk, session, sound, animation. temporal media content typically with a play/pause/scrubber interface.</li>
<li>b -&nbsp;blog post, article (structured, with headings), essay</li>
<ul>
<li><a href="http://activitystrea.ms/schema/1.0/article">http://activitystrea.ms/schema/1.0/article</a>&nbsp;</li>
</ul>
<li>c - code, sample code, library, open source, code example</li>
<li>d - diff, edit, change, including tag-of and especially <a href="https://indieweb.org/tag-reply#person_tag_reply">person-tag reply</a> posts</li>
<li>e - event - hCalendar</li>
<li>f - favorited - primarily just a URL, often to someone else's content. for more, see&nbsp;'r' below&nbsp;</li>
<li>g - geo checkin - act of checking into a location, venue. e.g. dodgeball, foursquare</li>
<li>h - hyperlink - e(x)ternal reference, link, etc. use of short URL to link to things that I expect to die or move, untrustworthy permalinks.&nbsp;</li>
<li>i -&nbsp;identifier - on another system using subdirectory as system id space</li>
<ul>
<li>i/i/ - ISBN (compressed via <a href="/NewBase60">NewBase60</a>)</li>
<li>i/a/ - ASIN&nbsp;(compressed via&nbsp;<a href="/NewBase60">NewBase60</a>)</li>
</ul>
<li>j - reserved</li>
<li>k - reserved</li>
<li>l . (skipping due to resemblance to 1, per print-safety design principle, related:&nbsp;<a href="/ShortURLPrintExample">ShortURLPrintExample</a>)</li>
<li>m - (message like email, permalink to external list archive, or private blog archive, or a sender-hosted message)</li>
<li>n - reserved</li>
<li>o - physical objects (e.g. stuff from Amazon, or URLs attached to actual specific physical objects)&nbsp;</li>
<li>p - photo (re-using Flickr's design choice of flic.kr/p/ for photo short URLs)</li>
<li>q - reserved</li>
<li>r - review, recommendation, rating - h-review / hReview</li>
<li>s - slides, session presentation, S5&nbsp;</li>
<li>t - text, (plain) text, tweet, thought, note, unstructured, untitled&nbsp;</li>
<ul>
<li><a href="http://activitystrea.ms/schema/1.0/note">http://activitystrea.ms/schema/1.0/note</a>&nbsp;</li>
</ul>
<li>u - (update, could be used for status updates of various types, profile updates)</li>
<li>v - venue, physical location (possibly moving or non-stationery), for referencing as an event location, or in a geo checkin. </li>
<li>w - work, work in progress, wiki, project, draft, task list, to-do, do, gtd</li>
<li>x - XMDP Profile&nbsp;</li>
<li>y - reserved</li>
<li>z - reserved&nbsp;</li>
</ul>
</ul>
<p>&nbsp;</p>
<ul>
<li>b -&nbsp;blog post&nbsp;specific short URL design: /b/SSSn&nbsp;(prefer /x/ design per Flic.kr precedent, extensibility)</li>
<li>t - text note specific short URL design: /tSSSn (as short as possible to for max chars for the note)</li>
<ul>
<li>SSS - <a href="/NewBase60">NewBase60</a> epoch days</li>
<li>n - nth post for the day</li>
</ul>
</ul>
<p>&nbsp;</p>
<p>Replies, responses, rebuttals used to be part of 'r', but in practice are more of an aspect of a post rather than type of post in and of themselves. A 't'ext note can be a reply, and a 'b'log post can also be a reply. The "replyness" of a post is determined by the presence of a link with in-reply-to markup</p>
<p>&nbsp;</p>
<p>I've been posting RSVPs in practice as 't' notes with both an in-reply-to link to an event post, and an explicit p-rsvp property. The presence of the p-rsvp property is sufficient to determine that it is an RSVP post, or subtype of text note.</p>
<p>&nbsp;</p>
<h3><a class="pbTOC" name="underconsideration"></a>under consideration</h3>
<ul>
<li>q - question post, e.g. the kind of post people post to Quora or Stack Overflow. See <a href="https://www.quora.com/What-is-a-good-way-to-markup-an-indieweb-question-post-similar-to-a-question-you-might-sharecrop-on-Quora-or-StackOverflow-Id-ask-on-my-own-site-but-that-would-require-first-knowing-the-answer-so-I-could-mark-it-up-properly-bootstrapping">sample question on Quora</a>.</li>
<li>m - metric, measurement of self, i.e. quantified self type data, weighing, movement, walking, running, biking, driving etc.</li>
<ul>
<li>and thus collapse "message" as just a use case of either text note (simple text/SMS/email messages), or article/blog post (messages with an explicit subject). </li>
</ul>
<li>?x - scrobbles/listens/watchings/viewings - I think those are all the same kind of post, something passive that is about your environment more than it is about you an "experience" post. not sure what shortcode I'd use for them. I could pick from j,k,y,z (reserved) OR I could use 'x' since that is in "experience", "external", and simply drop XMDP profile as I haven't posted any of those on my own site and don't expect to.</li>
</ul>
<p>&nbsp;</p>
<h3><a class="pbTOC" name="designrelatedanalysis"></a>design related analysis</h3>
<p>Others single-letter post type schemas / short URL designs:</p>
<ul>
<li><a href="http://waterpigs.co.uk/articles/post-type-schema" search_id="undefined">My Post Type Schema</a> by Barnaby Walters - "After seeing Tantek Çelik’s Whistle URL Shortener Design Notes I decided to base my schema off his." </li>
<li><a href="https://gist.github.com/veganstraightedge/6201929">SHORT URL NAMESPACES</a> by Shane Becker - "... internal notes about my Homesteading post types plan ..." </li>
<li>... </li>
</ul>
<p>&nbsp;</p>
<h2><a class="pbTOC" name="implementation"></a>implementation</h2>
<p>Whistle has an implementation of the following:</p>
<ul>
<li>single-letter content-types&nbsp;(on ttk.me for tantek.com)</li>
<ul>
<li>b&nbsp;-&nbsp;blog post, article (structured, with headings), essay</li>
<li>i -&nbsp;identifier - on another system using subdirectory as system id space</li>
<ul>
<li>i/i/ - ISBN (compressed via&nbsp;<a href="/NewBase60">NewBase60</a>)</li>
<li>i/a/ - ASIN&nbsp;(compressed via&nbsp;<a href="/NewBase60">NewBase60</a>)</li>
</ul>
<li>t - text, (plain) text, tweet, thought, note, unstructured, untitled</li>
<li>w -&nbsp;work, work in progress, wiki, project, draft, task list, to-do, do, gtd</li>
<ul>
<li>for now the 'w/' short URLs simply redirect to this wiki, eventually they'll redirect to wiki pages on tantek.com, likely hosted/published by <a href="/Falcon">Falcon</a>.&nbsp;</li>
</ul>
</ul>
<li>single-letter content-types (on&nbsp;ufs.cc for microformats.org)</li>
<ul>
<li>w -&nbsp;wiki page, e.g. <a href="http://ufs.cc/w/hcard">http://ufs.cc/w/hcard</a></li>
<li>x - XMDP Profile, e.g. <a href="http://ufs.cc/x/hcard">http://ufs.cc/x/hcard</a></li>
</ul>
</ul>
<p>&nbsp;</p>
<h2><a class="pbTOC" name="interviews"></a>interviews</h2>
<p>Interview by Steve Ivy published on monkinetic:</p>
<ul>
<li>2010-05-26 <a href="http://www.monkinetic.com/2010/05/26/tantek-celik-diso-20-brass-tacks">http://www.monkinetic.com/2010/05/26/tantek-celik-diso-20-brass-tacks</a> (previously <a href="http://monkinetic.com/2010/05/26/tantek-celik-diso-20-brass-tacks.html">http://monkinetic.com/2010/05/26/tantek-celik-diso-20-brass-tacks.html</a> and before that at <a href="http://www.monkinetic.com/2010/05/tantek-celik-diso-20-brass-tacks.html">http://www.monkinetic.com/2010/05/tantek-celik-diso-20-brass-tacks.html</a> ) (<a href="http://news.ycombinator.com/item?id=1381197">Hacker News comments</a>) where Steve Ivy asks me why having a personal URL shortener is essential for DiSo and why it should be algorithmic. </li>
</ul>
<p>&nbsp;</p>
<h2><a class="pbTOC" name="FAQ"></a>FAQ</h2>
<h3><a class="pbTOC" name="Whynotusedayssinceyouwereborn"></a>Why not use days since you were born</h3>
<p>Q: Why not use days since you were born instead of days since epoch start (1970-01-01) ?</p>
<p>A: In short: 1. easier debugging, 2. birthday privacy. First, from a practical perspective, reusing epoch start makes it easier to debug: 0 datestamp means 0 epoch time, everyone's personal permalinks share the same NewBase60 datestamps etc. &nbsp;And second, using your birthday as your 0-day for permalink datestamps would have the side-effect of publishing your precise year/month/day of your birthday which not everyone may want to do - in fact, typically people still keep their full birthday private rather than publishing it openly on the web. Long term if this encoding scheme is still used in say 200+ years, it may make sense to pick a new day zero for folks born after a certain point in time (e.g. perhaps 2200-001 for everyone born on that day or later.).</p>
<p>&nbsp;</p>
<h3><a class="pbTOC" name="WhynotjustusetheshortURLsallthetime"></a>Why not just use the short URLs all the time?</h3>
<p>Q: Why redirect? Why not just use the short URLs all the time?</p>
<p>A: In short:&nbsp;</p>
<p>1. Aesthetic friendliness. Compressed characters (even NewBase60) look like line noise errors to most people.</p>
<p>2. Branding. "tantek.com" (or whatever your own personally recognizable domain) has value purely by name.</p>
<p>3. SEO. Using a long URL with a title/keyword slug as the final segment helps with better search result placement.</p>
<p>&nbsp;</p>
<h3><a class="pbTOC" name="WhyuseshortidsinsteadofURLsinsyndicatednotes"></a>Why use short ids instead of URLs in syndicated notes?</h3>
<p>Q: Why use permashortids like (ttk.me t4MY1) in syndicated tweets instead of URLs like <a href="http://ttk.me/t4MY1">http://ttk.me/t4MY1</a>?</p>
<p>A: In Twitter (and other short messaging systems), there's a strong user expectation that any link will provide more content than the tweet (short text note) itself. When a link merely shows the user what they've already seen (even if it is a nicer UI, the original posting URL etc.), they tend to get upset (went through an actual iteration of this, with plenty of feedback from colleagues - some even publicly posted ;). So now I only provide a full permashortlink URL at the end of my syndicated text notes if there is more content at the original, e.g. photos, videos, expansion of elided text, etc.</p>
<p>&nbsp;</p>
<h3><a class="pbTOC" name="Whyusespaceasadelimiterinsidepermashortids"></a>Why use space as a delimiter inside permashortids?</h3>
<p>Q: Why use space instead of punctuation as a delimiter inside permashortids?</p>
<p>A: I actually started with using a slash "/" as a delimiter because it made the permashortids URL-like (recognizable) without making them clickable in Twitter - for a while until they changed their auto-linker to link them up (which defeated the purpose of making them short ids (see previous FAQ).</p>
<p>&nbsp;</p>
<p>Once back to the drawing board, I reanalyzed the problem and realized that the permashortid at the end of my tweets is essentially a shorthand  citation to the original work. Thus I researched existing shorthand  citation conventions / formats and re-used accordingly.<br /><br />Both <a href="http://en.wikipedia.org/wiki/Harvard_referencing#Author-date">Harvard</a> and <a href="http://www.chicagomanualofstyle.org/tools_citationguide.html">The Chicago Manual of Style</a> (click the "AUTHOR-DATE" tab to see examples) use the format:<br /><br />(author date)<br /><br />[for more on citation formats/styles, I've collected some research here: <a href="http://microformats.org/wiki/citation-formats#styles">http://microformats.org/wiki/citation-formats#styles</a>, naturally :) ]<br /><br />Thus for my posts the analogy to</p>
<p>&nbsp;</p>
<p>(author date)</p>
<p>&nbsp;</p>
<p>is</p>
<p>&nbsp;</p>
<p>(shortdomain datedID)</p>
<p>&nbsp;</p>
<p>e.g.</p>
<p>&nbsp;</p>
<p>(ttk.me t4MY1)</p>
<p>&nbsp;</p>
<p>where</p>
<ul>
<li>t = short for "text note" (see <a href="http://tantek.com/w/Whistle#design" search_id="undefined">design</a> above)</li>
<li>4MY = NewBase60 encoding of epochdays (see <a href="http://tantek.com/w/NewBase60">http://tantek.com/w/NewBase60</a> and <a href="http://cassisproject.com/">http://cassisproject.com/</a> )</li>
<li>1 = nth post of that type for that day.</li>
</ul>
<p><br />Also  from a readability design perspective, even if you didn't have the  prior art, alternatives like more punctuation (a ":" or an "=") are noisier (among the text) and uglier too  (for humans). Punctuation should only be used when doing so is an  improvement over not. Since the parantheses are already containing the  citation information, a space is a reasonable delimiter - no colon or  equals or other symbols necessary.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h2><a class="pbTOC" name="RelatedProjects"></a>Related Projects</h2>
<ul>
<li><a href="/NewBase60">NewBase60</a></li>
<li><a href="/CassisProject">CassisProject</a> </li>
<li><a href="http://www.monkinetic.com/2010/05/newbase60.html">Tin Whistle</a> - perl port of the CASSIS implementation of Whistle and NewBase60</li>
<li><a href="https://singpolyma.net/plugins/shorten/">Shorten - A simple URL shortener for WordPress</a> - uses NewBase60 CASSIS</li>
<li><a href="http://willnorris.com/2011/01/hum-personal-url-shortener-wordpress">Hum – A Personal URL shortener for WordPress</a> - "inspired by Whistle", also uses NewBase60 CASSIS</li>
</ul>
<p>&nbsp;</p>
<hr />
<p>Return to <a href="/MyNextStartup">MyNextStartup</a> \ <a href="/FrontPage">FrontPage</a>.</p>
    </div>
  
  </div>

  </div>

  <div id="wikiedit" style="display:none;">
        	<div id="editor-panel" class="box">
  <h1 id="editTitle" class="pagetitle ellipses">Whistle</h1>
      
    <table style="table-layout:fixed; width:100%" id="edit-panel">
      <col/>
      <col style="width:240px"/>
      <tr><td>
      <form method="post" action="/Whistle" id="editwikipage"><input type="hidden" name="process" value="edit_page" /><div id="editframe"></div></form>
      </td>
      <td>
      <div id="editor-column" style="margin-left:12px;" class="thingbar">
			  <div id="edit-tools">
					     <h4>Page Tools</h4>
                    <div class="editor-module">
      <div class="header">
        <h3>Insert links</h3>
        <p class="aux">Insert links to other pages or uploaded files.</p>
      </div>
      <div class="editor-module-tabs">
        <a href="#" class="active" id="linkselectab-pages">Pages</a>
        <a href="#" id="linkselectab-images">Images and files</a>
      </div>
  
      <div class="content">
          <div style="display:none" id="thingbar-pages">
            <div style="border-bottom:1px dotted #bbb; font-size: 10px; padding-bottom: 0.5em; margin-bottom: 0.5em;"><a href="javascript:void(0);" onmousedown="insert_newlink_into_editor(); return false">Insert a link to a new page</a></div>
            <ol id="thingbarpages"><li><div align="center"><span id="thingbarLoadIcon"></span> Loading...</div></li></ol>
          </div>
          <div style="display:none;" id="thingbar-images">
                            <ol id="thingbarfiles"> <li id="thingbar-images-noimages">No images or files uploaded yet.</li>
</ol>
			        <div style="border-top:1px dotted #bbb; font-size: 10px; padding-top: 0.5em; margin-top: 0.5em;"><a href="javascript:void(0);" id="thingbar-url-link">Insert image from URL</a></div>
          </div>
	    </div>
    </div>
			  </div>
        <p id="editor-tip" class="aux">
            <strong>Tip:</strong> To turn text into a link, highlight the text, then click on a page or file from the list above.
        </p>
		  </div>

	</td>
</tr>
</table> 
</div>
  </div>

  <style> div#comments .comment { margin-bottom:5px; } div#comments .content p { margin-bottom:5px; }  </style><div id="comments" class="box nocomments">
<div class="comments-header">
  <div class="corner4px top"><div class="right"></div><div class="left"></div></div>
  <h3>
    Comments (<span id="comments-count">0</span>)
      </h3>
  <a name="comments"></a>
  <div class="corner4px bot"><div class="right"></div><div class="left"></div></div>
</div>
<p id="comments-nopermission">You don't have permission to comment on this page.</p>
</div>
</div>

  <div id="page-bottom-toolbar">
  <div class="content box">
    <a href="/w/page/21743973/Whistle?mode=embedded" rel="nofollow" class="iconbutton print" id="print_link">Printable version</a>
  </div>
</div>

<!--[if IE]>
  <style type="text/css" media="screen">
    div#sendalink_to_container div.accontainer { left: 122px; margin-top: 20px; }
    input#sendalink_to { margin-bottom: 7px; }
    div#sendalink_to_container div#header, div#sendalink_to_container ul, div#sendalink_to_container div#footer { display: inline-block; }
  </style>
<![endif]-->
                      </td>
          <td id="page-col-3" width="4">&nbsp;</td>
        </tr>
      </table>
      <div id="page-footer">
        <div class="header">
          <div class="rt"></div>
          <div class="lt"></div>
        </div>
        <div class="content"><div id="footer-logo" ><a href="http://pbworks.com/?utm_campaign=wiki-link" title=""></a></div>

<div id="footer-pbwiki">
  <p>
    <strong><a href="https://pbworks.com/?utm_campaign=wiki-link">PBworks</a> </strong> / <a target="_new" href="mailto:support@pbworks.com">Help</a><br/>
    <a href="http://pbworks.com/content/termsofservice?utm_campaign=wiki-link">Terms of use</a> / <a href="http://pbworks.com/content/privacypolicy?utm_campaign=wiki-link">Privacy policy</a> / <a href="http://www.pbworks.com/gdpr.html">GDPR</a>
  </p>
</div>
<div id="footer-about">
  <p>
        <strong>About this workspace</strong>
            <br/>
    <a href="/w/contact-owner">Contact the owner</a> /         <a href="/rss.xml">RSS feed</a> /     This workspace is <strong>public</strong>
  </p>
</div>
</div>        <div class="footer">
          <div class="lt"></div>
          <div class="rt"></div>
        </div>
      </div>
    </div><!--- /#page -->

  </td>
  <td id="side-content">
      <div id="sidebar">
    <div id="side-toolbar" class="sidebox">
      <ul id="main-tools" class="empty">
                              </ul>
      
    </div><!-- /#side-toolbar -->
      <div id="sidebarModules">
                        <div id="module__login" class="wikicontext-module sidebox" style="position: relative; z-index: 0;">
      <div class="header"><h3>Join this workspace</h3><a class="close togglemodule" href="#"></a></div>
      <div class="content">
        <div class="inner-content">

                     <div class="top">
                          To join this workspace,
              <a href="/w/request-access">request access</a>.            </div>
            <p>Already have an account? <a href="http://tantek.pbworks.com/w/session/login">Log in</a>!</p>
                              </div>
      </div>
      <div class="footer"></div>
      </div>
    

      
              <div class="wikicontext-module sidebox folders" id="module-folders">
  <div class="header"><h3 id="module-title-folders">Navigator</h3><a href="javascript:void(0);" class="close togglemodule">&nbsp;</a></div>  <div class="content wikistyle" style="height: 200px;">
    <div class="loading" id="navigator_loading_message">Loading&hellip;</div>
  </div>
<div class="footer resizeable">&nbsp;</div>
</div>                <div class="wikicontext-module sidebox sidebar" style="display: none;" id="module-sidebar">
  <div class="header"><h3 id="module-title-sidebar">SideBar</h3><a href="javascript:void(0);" class="close togglemodule">&nbsp;</a></div><div class="footer">&nbsp;</div>
</div>                            <div class="wikicontext-module sidebox recentactivity" id="module-recentactivity">
  <div class="header"><h3 id="module-title-recentactivity">Recent Activity</h3><a href="javascript:void(0);" class="close togglemodule">&nbsp;</a></div>  <div id="new-recent-activity" style="display: none;">
    <a id="new-recent-activity-refresh" href="#">
      Show <span id="new-recent-activity-count">0</span> new item<span id="new-recent-activity-plural">s</span>
    </a>
  </div>
  <div class="content" style="height: 364px;">
    <div class="loading" id="recentactivity_loading_message">Loading&hellip;</div>
  </div>
<div class="footer resizeable">&nbsp;</div>
</div>            </div>
    </div>
  </td>
  </tr>

</table>
</div>
    <script type="text/javascript">
  var _qevents = [{ qacct : "p-16CGFkiSpdTEU" }];
  (function() {
   var elem = document.createElement('script');
   elem.src = (document.location.protocol == "https:" ? "https://secure" : "http://edge")
               + ".quantserve.com/quant.js";
   elem.async = true;
   elem.type = "text/javascript";
   var scpt = document.getElementsByTagName('script')[0];
   scpt.parentNode.insertBefore(elem, scpt);
  })();
</script>
<noscript><div style="display: none;"><img src="http://pixel.quantserve.com/pixel/p-16CGFkiSpdTEU.gif" height="1" width="1" alt="Quantcast"/></div></noscript><script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-2694787-12");
pageTracker._setDomainName(".pbworks.com");
if (document.cookie.match(/hm=/)) {
  pageTracker._setVar('authenticated');
}
pageTracker._setAllowHash(false);
pageTracker._trackPageview();
</script>
</body>
</html><!-- v=2,utz=x,ssl=0,ua=Unk-Unknown-0,uid=0,sn=e0e6d1aad6e02053c83b94a3b8e61991,pid=3423,hn=appserver006,nw=0,w=tantek,pv=pub,pkg=p20,perm=none,crea=1169507967,mt=1693898955,sc=2230,cl=1,cat=ind,mpu=8,te=0.069 -->